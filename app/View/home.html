{% extends 'Template/structure.html' %}

{% block css %}
<link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
<link rel="stylesheet" href="http://localhost/aniplus/app/lib/Style/home.css">
{% endblock %}

{% block title %}
{{title}}
{% endblock %}

{% block slide %}
<div id="slide_container">
    <div class="container swiper" id="destaques">
        <div class="swiper-wrapper">
            {% for destaque in destaques %}
            {% set img_path = 'http://localhost/aniplus/app/lib/Style/Images/img-not-found.png' %}
            {% if destaque.poster_path != null %}
            {% set img_path = 'https://image.tmdb.org/t/p/original' ~ destaque.poster_path %}
            {% endif %}
            <div class="swiper-slide" data-background="{{destaque.backdrop_path}}"
                style="display: flex; text-align: center;">
                <article>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <img class="img-thumbnail" src="{{img_path}}" />
                                <a href="filme/detalhes/{{destaque.id}}">
                                    <div class="preview-body" style="width: calc(100% - 30px); left: 15px;">
                                        <div class="preview-content">
                                            <i class="fa-solid fa-play fa-2xl"></i>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </article>
            </div>
            {% endfor %}
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-pagination"></div>
    </div>
</div>
{% endblock %}

{% block content %}

<div class="row" id="populares">
    <div class="col-md-12">
        <h5 class="section-title">Filmes Populares</h5>
        <hr style="margin-bottom: 0.5rem; width: 100%; height: 0.3em; background-color: brown;" />
        <div class="swiper" style="padding-left: 40px; padding-right: 40px;">
            <div class="swiper-wrapper" >
                {% for filme in filmes_populares.results %}
                {% set img_path = 'http://localhost/aniplus/app/lib/Style/Images/img-not-found.png' %}
                {% if filme.poster_path != null %}
                {% set img_path = 'https://image.tmdb.org/t/p/original' ~ filme.poster_path %}
                {% endif %}
                <div class="swiper-slide">
                    <div class="container">
                        <div class="row">
                            <div class="col-12" style="text-align: center; padding-top: 15px;">
                                <img class="img-fluid" src="{{img_path}}" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <h6 style="text-align: center;" class="section-title font-weight-bold">{{filme.title}}</h6>
                            </div>
                        </div>
                    </div>

                    <a href="filme/detalhes/{{filme.id}}">
                        <div class="preview-body">
                        </div>
                    </a>
                </div>
                </a>
                {% endfor %}
            </div>
            <div class="swiper-button-next" id="next"></div>
            <div class="swiper-button-prev" id="prev"></div>
        </div>
    </div>
</div>

<div class="row" id="populares">
    <div class="col-md-12">
        <h5 class="section-title">SÃ©ries Populares</h5>
        <hr style="margin-bottom: 0.5rem; width: 100%; height: 0.3em; background-color: brown;" />
        <div class="swiper" style="padding-left: 40px; padding-right: 40px;">
            <div class="swiper-wrapper">
                {% for serie in series_populares.results %}
                {% set img_path = 'http://localhost/aniplus/app/lib/Style/Images/img-not-found.png' %}
                {% if serie.poster_path != null %}
                {% set img_path = 'https://image.tmdb.org/t/p/original' ~ serie.poster_path %}
                {% endif %}
                <div class="swiper-slide">
                    <div class="container">
                        <div class="row">
                            <div class="col-12" style="text-align: center; padding-top: 15px;">
                                <img class="img-fluid" src="{{img_path}}" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <h6 style="text-align: center;" class="section-title font-weight-bold">{{serie.name}}</h6>
                            </div>
                        </div>
                    </div>

                    <a href="serie/detalhes/{{serie.id}}">
                        <div class="preview-body">
                        </div>
                    </a>
                </div>
                </a>
                {% endfor %}
            </div>
            <div class="f-2rem swiper-button-next"></div>
            <div class="f-2rem swiper-button-prev"></div>
        </div>
    </div>
</div>

{% endblock %}

{% block footer %}
{% endblock %}

{% block additionalScripts %}
<script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
<script src="http://localhost/aniplus/app/lib/Js/home.js"></script>
<script>
</script>
{% endblock %}